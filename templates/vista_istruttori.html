{% extends "base.html" %}

{% block title %}Vista Istruttori - Calendario Istruttori{% endblock %}

{% block content %}
<div class="row">
    <div class="col-12">
        <h2><i class="fas fa-user-tie"></i> Vista Istruttori - Anno {{ anno_corrente }}</h2>
        <p class="text-muted">Seleziona un istruttore per vedere statistiche complete, calendario e report dell'anno</p>
        <hr>
    </div>
</div>

<div class="row">
    <div class="col-12">
        <div class="table-responsive">
            <table class="table table-hover table-striped">
                <thead class="table-dark">
                    <tr>
                        <th>Istruttore</th>
                        <th>NÂ° Impegni</th>
                        <th>Giorni Lavorativi</th>
                        <th>Periodo AttivitÃ </th>
                        <th>Stato</th>
                        <th>Azioni</th>
                    </tr>
                </thead>
                <tbody>
                    {% for istr in istruttori %}
                    <tr>
                        <td><strong>{{ istr.nome }}</strong></td>
                        <td>
                            <span class="badge bg-primary">{{ istr.num_impegni }} impegni</span>
                        </td>
                        <td>
                            <span class="badge bg-success">{{ istr.giorni_lavorativi }} giorni</span>
                        </td>
                        <td>
                            {% if istr.prima_attivita %}
                                <small>
                                    {{ istr.prima_attivita.split('-')[2] }}/{{ istr.prima_attivita.split('-')[1] }}
                                    â†’
                                    {{ istr.ultima_attivita.split('-')[2] }}/{{ istr.ultima_attivita.split('-')[1] }}
                                </small>
                            {% else %}
                                <small class="text-muted">Nessuna attivitÃ </small>
                            {% endif %}
                        </td>
                        <td>
                            {% if istr.attivo %}
                                <span class="badge bg-success">Attivo</span>
                            {% else %}
                                <span class="badge bg-secondary">Inattivo</span>
                            {% endif %}
                        </td>
                        <td>
                            <a href="/istruttore/{{ istr.id }}" class="btn btn-sm btn-primary">
                                <i class="fas fa-chart-line"></i> Vedi Statistiche
                            </a>
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
</div>

<div class="row mt-4">
    <div class="col-12">
        <div class="card">
            <div class="card-header bg-info text-white">
                <i class="fas fa-info-circle"></i> Cosa puoi vedere?
            </div>
            <div class="card-body">
                <p>Cliccando su <strong>"Vedi Statistiche"</strong> per un istruttore, vedrai:</p>
                <div class="row">
                    <div class="col-md-6">
                        <ul>
                            <li><strong>ðŸ“Š Statistiche Anno {{ anno_corrente }}</strong>
                                <ul>
                                    <li>Totale giorni lavorativi</li>
                                    <li>Suddivisione per categoria (Corsi, Esami, etc.)</li>
                                    <li>Giorni netti (con sostituzioni)</li>
                                </ul>
                            </li>
                            <li><strong>ðŸ“… Calendario Annuale</strong>
                                <ul>
                                    <li>Visione completa 365 giorni</li>
                                    <li>Colori per tipo attivitÃ </li>
                                    <li>Click per dettagli</li>
                                </ul>
                            </li>
                        </ul>
                    </div>
                    <div class="col-md-6">
                        <ul>
                            <li><strong>ðŸ“ˆ Grafico Mensile</strong>
                                <ul>
                                    <li>Giorni lavorativi per mese</li>
                                    <li>Visualizzazione immediata carico lavoro</li>
                                </ul>
                            </li>
                            <li><strong>ðŸ”„ Sostituzioni</strong>
                                <ul>
                                    <li>Quando Ã¨ stato sostituito (OUT)</li>
                                    <li>Quando ha sostituito altri (IN)</li>
                                    <li>Con date e motivi</li>
                                </ul>
                            </li>
                            <li><strong>ðŸ“‹ Lista Impegni Completa</strong>
                                <ul>
                                    <li>Tutti gli impegni dell'anno</li>
                                    <li>Ordinati per data</li>
                                </ul>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="row mt-4">
    <div class="col-12">
        <div class="card bg-light">
            <div class="card-body">
                <h6><i class="fas fa-lightbulb"></i> Suggerimento</h6>
                <p class="mb-0">Usa questa vista per:</p>
                <ul class="mb-0">
                    <li>Verificare il carico di lavoro di ogni istruttore</li>
                    <li>Pianificare nuovi impegni in base alla disponibilitÃ </li>
                    <li>Monitorare le sostituzioni</li>
                    <li>Generare report mensili/annuali</li>
                </ul>
            </div>
        </div>
    </div>
</div>
{% endblock %}
<html xmlns:mso="urn:schemas-microsoft-com:office:office" xmlns:msdt="uuid:C2F41010-65B3-11d1-A29F-00AA00C14882"><head>
<!--[if gte mso 9]><xml>
<mso:CustomDocumentProperties>
<mso:xd_Signature msdt:dt="string"></mso:xd_Signature>
<mso:display_urn_x003a_schemas-microsoft-com_x003a_office_x003a_office_x0023_Editor msdt:dt="string">Grifasi Angelo Giuseppe</mso:display_urn_x003a_schemas-microsoft-com_x003a_office_x003a_office_x0023_Editor>
<mso:Order msdt:dt="string">193200.000000000</mso:Order>
<mso:ComplianceAssetId msdt:dt="string"></mso:ComplianceAssetId>
<mso:TemplateUrl msdt:dt="string"></mso:TemplateUrl>
<mso:xd_ProgID msdt:dt="string"></mso:xd_ProgID>
<mso:_ExtendedDescription msdt:dt="string"></mso:_ExtendedDescription>
<mso:display_urn_x003a_schemas-microsoft-com_x003a_office_x003a_office_x0023_Author msdt:dt="string">Grifasi Angelo Giuseppe</mso:display_urn_x003a_schemas-microsoft-com_x003a_office_x003a_office_x0023_Author>
<mso:TriggerFlowInfo msdt:dt="string"></mso:TriggerFlowInfo>
<mso:ContentTypeId msdt:dt="string">0x0101002AC836DBC1B2D14B9CF1B153B23CAC72</mso:ContentTypeId>
<mso:_SourceUrl msdt:dt="string"></mso:_SourceUrl>
<mso:_SharedFileIndex msdt:dt="string"></mso:_SharedFileIndex>
<mso:TaxCatchAll msdt:dt="string"></mso:TaxCatchAll>
<mso:MediaServiceImageTags msdt:dt="string"></mso:MediaServiceImageTags>
<mso:lcf76f155ced4ddcb4097134ff3c332f msdt:dt="string"></mso:lcf76f155ced4ddcb4097134ff3c332f>
</mso:CustomDocumentProperties>
</xml><![endif]-->
<title></title></head>